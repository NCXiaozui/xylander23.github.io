<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="John Doe"><title>logging基本用法 · 理想與少年</title><meta name="description" content="一、日志记录流程Looger:即Logger Main Class, 是进行日志记录创建的对象， 可以调用它的方法传入模板和信息来生成一条日志记录。Log Record:代指生成的日志记录Handler: 即用来处理日志记录的类，它可以将Log Record输出到我们指定的日志位置和存储形式等。Fo"><meta name="keywords" content="CS"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="stylesheet" href="/css/style.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div id="stage" class="container"><div class="row"><div id="side-bar" class="col-sm-3 col-xs-12 side-container invisible"><div class="vertical-text site-title"><h3 tabindex="-1" class="site-title-small"><a href="/" class="a-title">與數學和零壹斗智斗勇的理想少年</a></h3><h1 tabindex="-1" class="site-title-large"><a href="/" class="a-title">江右少年</a></h1><!--h6(onclick="triggerSiteNav()") Trigger--></div><br class="visible-lg visible-md visible-sm"><div id="site-nav" class="site-title-links"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archive</a></li><li><a href="/categories">Categories</a></li><li><a href="/tags">Tags</a></li><li class="soc"><a href="https://github.com/xylander23" target="_blank" rel="noopener noreferrer"><i class="fa fa-github">&nbsp;</i></a></li></ul><div class="visible-lg visible-md visible-sm site-nav-footer"><br class="site-nav-footer-br"><footer><p>&copy;&nbsp;2019&nbsp;<a target="_blank" href="http://yoursite.com" rel="noopener noreferrer">John Doe</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div><div id="main-container" class="col-sm-9 col-xs-12 main-container invisible"><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post-container"><p class="post-title"><a>logging基本用法</a></p><p class="post-meta"><span class="date meta-item">Posted at&nbsp;2018-09-12</span><span class="meta-item"><i class="fa fa-folder"></i><span>&nbsp;</span><a href="/categories/CS/" title="CS" class="a-tag">CS</a><span>&nbsp;</span></span><span class="meta-item"><i class="fa fa-tag"></i><span>&nbsp;</span><a href="/tags/Python/" title="Python" class="a-tag">Python</a><span>&nbsp;</span></span></p><p class="post-abstract"><h1 id="一、日志记录流程"><a href="#一、日志记录流程" class="headerlink" title="一、日志记录流程"></a>一、日志记录流程</h1><p>Looger:即Logger Main Class, 是进行日志记录创建的对象， 可以调用它的方法传入模板和信息来生成一条日志记录。Log Record:代指生成的日志记录Handler: 即用来处理日志记录的类，它可以将Log Record输出到我们指定的日志位置和存储形式等。Formatter: 将Log Record对象格式化，返回日志字符串，然后传给HandlerFilter: 过滤低级别的日志，那么这个过滤过程就可以交给Filter完成。Parent Handler: Handler之间可以存在分层关系，以使得不同Handler之间共享相同功能的代码。</p>
<h1 id="二、日志记录的相关用法"><a href="#二、日志记录的相关用法" class="headerlink" title="二、日志记录的相关用法"></a>二、日志记录的相关用法</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="number">2.l</span>ogging.basicConfig(level=logging.INFO, format=<span class="string">'%(asctime)s-%(name)s-%(levelname)s-%(message)s'</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">3.l</span>ogger = logging.getLogger(__name__)</span><br><span class="line"></span><br><span class="line"><span class="number">4.l</span>ogger.info(<span class="string">'This is a log info'</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">5.l</span>ogger.debug(<span class="string">'Debugging'</span>)<span class="number">6.l</span>ogger.waring(<span class="string">'Warning exists'</span>)</span><br></pre></td></tr></table></figure>
<p>1.首先导入logging模块</p>
<p>2.设置全局配置：basicConfig设置了logging的全局配置，level表示输出的级别，format表示输出的格式:包括asctime、name、 levelname、 message四个内容，分别代表运行时间、模块名称、日志级别、日志内容。</p>
<p>3.声明一个Logger对象:日志输出的文类，一般把<strong>name</strong>传入作为变量，然后4,5,6表示INFO、DEBUG和WARNING级别的提示信息。 </p>
<h1 id="三、细节详解"><a href="#三、细节详解" class="headerlink" title="三、细节详解"></a>三、细节详解</h1><h2 id="1-basicConfig参数"><a href="#1-basicConfig参数" class="headerlink" title="1.basicConfig参数"></a>1.basicConfig参数</h2><p><strong>filename</strong>: 即日志输出的文件名， 如果指定了这个信息之后， 实际上会启用FileHandler而不是StreamHandler，这样日志信息便会输出到文件中。 </p>
<p><strong>filemode</strong>: 指定日志文件的写入方式，有两种方式： 一种是w，一种是a，分别表示清除后写入和追加写入。 </p>
<p><strong>format</strong>:指定日志信息的输出格式，常用：%(levelno)s：打印日志级别的数值。%(levelname)s：打印日志级别的名称。%(asctime)s：打印日志的时间。%(message)s：打印日志信息。%(filename)s：打印当前执行程序名。%(funcName)s：打印日志的当前函数。详细参数可以参考：<a href="https://docs.python.org/3/library/logging.html?highlight=logging%20threadname#logrecord-attributes" target="_blank" rel="noopener">https://docs.python.org/3/library/logging.html?highlight=logging%20threadname#logrecord-attributes</a>  </p>
<p><strong>datefmt</strong>:指定时间的输出格式, 例如：’%Y-%m-%d %H:%M:%S’  level：指定日志输出的类别，程序会输出大于等于此级别的信息。<strong>CRITICAL&gt;ERROR&gt;WARNING&gt;INFO&gt;DEBUG&gt;NOTSET</strong></p>
<h2 id="2-捕获Traceback"><a href="#2-捕获Traceback" class="headerlink" title="2.捕获Traceback"></a>2.捕获Traceback</h2><p>logging.error(‘xxx’, exc_info=True)在logging.error里面，有一个参数选项exc_info, 如果是True，那么就可以返回Traceback的报错信息。</p>
<h2 id="3-Handler"><a href="#3-Handler" class="headerlink" title="3.Handler"></a>3.Handler</h2><p>待补</p>
<h1 id="四、参考文章："><a href="#四、参考文章：" class="headerlink" title="四、参考文章："></a>四、参考文章：</h1><p><a href="https://cuiqingcai.com/6080.html" target="_blank" rel="noopener">https://cuiqingcai.com/6080.html</a> </p>
</p></div><div class="share"><span>Share</span>&nbsp;<span class="soc"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></span><span class="soc"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></span><span class="soc"><a href="http://twitter.com/home?status=http://yoursite.com/2018/09/12/logging基本用法/%20理想與少年%20logging基本用法" class="fa fa-twitter"></a></span></div><div class="pagination"><p class="clearfix"><span class="pre pagbuttons"><a role="navigation" href="/2019/04/06/Spark-RDD/" title="Spark RDD"><i class="fa fa-angle-double-left"></i>&nbsp;Previous post: Spark RDD</a></span><span>&nbsp;</span><span class="next pagbuttons"><a role="navigation" href="/2018/05/21/统计基础/" title="统计基础">Next post: 统计基础&nbsp;<i class="fa fa-angle-double-right"></i></a></span></p></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNTE2Mi8xMTY5Nw=="><script type="text/javascript">(function (d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') {
        return;
    }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script><noscript> Please activate JavaScript for write a comment in LiveRe</noscript></div></div></div></div><div class="visible-xs site-bottom-footer"><footer><p>&copy;&nbsp;2019&nbsp;<a target="_blank" href="http://yoursite.com" rel="noopener noreferrer">John Doe</a></p><p>Theme&nbsp;<a target="_blank" href="https://github.com/SumiMakito/hexo-theme-typography" rel="noopener noreferrer">Typography</a>&nbsp;by&nbsp;<a target="_blank" href="https://www.keep.moe" rel="noopener noreferrer">Makito</a></p><p>Proudly published with&nbsp;<a target="_blank" href="https://hexo.io" rel="noopener noreferrer">Hexo</a></p></footer></div></div></div></div><script src="/js/jquery-3.1.0.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script src="/js/google-analytics.js"></script><script src="/js/typography.js"></script></body></html>